// Styly pro systémová nastavení formulář
// Používá Tailwind classes + BEM metodiku

.settings-form {
    @apply max-w-4xl mx-auto;
}

// Accordion komponenta (univerzální použití)
.accordion {
    @apply space-y-4;

    &__item {
        @apply border border-gray-200 rounded-lg dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm;
        
        &:hover {
            @apply shadow-md;
        }
    }

    &__header {
        @apply flex items-center justify-between p-4 cursor-pointer;
        @apply hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200;
        @apply border-b border-gray-200 dark:border-gray-700;
        
        &:hover {
            @apply bg-gray-50 dark:bg-gray-700;
        }
        
        &.active {
            @apply bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700;
        }
    }

    &__title {
        @apply flex items-center gap-3;
        
        h3 {
            @apply text-lg font-semibold text-gray-900 dark:text-gray-100 m-0;
        }
    }

    &__icon {
        @apply text-2xl;
    }

    &__chevron {
        @apply text-gray-500 dark:text-gray-400 transition-transform duration-200;
        
        svg {
            @apply w-5 h-5;
            transition: transform 0.2s ease;
        }
    }

    &__content {
        @apply overflow-hidden transition-all duration-300 ease-in-out;
        max-height: 0;
        
        &.active {
            max-height: 2000px; // Dostatečně velká hodnota pro smooth animaci
        }
    }

    &__body {
        @apply p-4 space-y-6;
    }
}

// Form groups a fieldy
.form-group {
    @apply space-y-4;

    &__title {
        @apply text-base font-medium text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2;
    }

    &__help {
        @apply text-sm text-gray-600 dark:text-gray-400 leading-relaxed;
    }
}

.form-grid {
    @apply grid gap-4;
    
    @screen sm {
        @apply grid-cols-1;
    }
    
    @screen md {
        @apply grid-cols-2;
    }
}

.form-field {
    @apply space-y-2;
    
    label {
        @apply block text-sm font-medium text-gray-700 dark:text-gray-300;
    }
    
    input, select, textarea {
        @apply w-full px-3 py-2 border border-gray-300 dark:border-gray-600;
        @apply rounded-md shadow-sm bg-white dark:bg-gray-700;
        @apply text-gray-900 dark:text-gray-100;
        @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500;
        @apply disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:text-gray-500;
    }
    
    input[type="checkbox"] {
        @apply w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded;
        @apply focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800;
        @apply dark:bg-gray-700 dark:border-gray-600;
    }
    
    input[type="datetime-local"] {
        @apply font-mono text-sm;
    }
}

.form-help {
    @apply text-xs text-gray-500 dark:text-gray-400 italic;
}

.form-actions {
    @apply flex items-center justify-between gap-4 pt-6 mt-8;
    @apply border-t border-gray-200 dark:border-gray-700;
    
    @screen sm {
        @apply flex-col-reverse;
    }
    
    @screen md {
        @apply flex-row;
    }
}

// Entity accordion (vnořený accordion pro audit entities)
.entity-accordion {
    @apply space-y-2 border border-gray-200 dark:border-gray-600 rounded-lg p-2;
    @apply bg-gray-50 dark:bg-gray-900;
}

.entity-item {
    @apply border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800;
    
    &--disabled {
        @apply opacity-60;
        
        .entity-header {
            @apply text-gray-500 dark:text-gray-500;
        }
    }
}

.entity-header {
    @apply flex items-center justify-between p-3 cursor-pointer;
    @apply hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150;
    
    &:hover {
        @apply bg-gray-50 dark:bg-gray-700;
    }
}

.entity-info {
    @apply flex items-center gap-3 flex-1;
}

.entity-icon {
    @apply text-xl;
}

.entity-details {
    @apply flex flex-col;
}

.entity-name {
    @apply font-medium text-gray-900 dark:text-gray-100;
}

.entity-description {
    @apply text-sm text-gray-600 dark:text-gray-400;
}

.entity-actions {
    @apply flex items-center gap-3;
}

.entity-toggle {
    @apply flex items-center gap-2;
    
    label {
        @apply text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer;
        @apply mb-0; // Reset default margin
    }
}

.entity-content {
    @apply overflow-hidden transition-all duration-200 ease-in-out;
    max-height: 0;
    
    &.active {
        max-height: 500px; // Menší hodnota než main accordion
    }
}

.entity-body {
    @apply p-3 space-y-4 border-t border-gray-200 dark:border-gray-600;
    @apply bg-gray-50 dark:bg-gray-900;
}

// Event checkboxes styling
.event-checkboxes {
    @apply space-y-2;
    
    input[type="checkbox"] {
        @apply mr-2;
    }
    
    label {
        @apply inline-flex items-center text-sm cursor-pointer;
        @apply hover:text-blue-600 dark:hover:text-blue-400;
    }
}

// Alert styling pro flash messages
.alert {
    @apply flex items-center gap-2 p-4 rounded-lg;
    
    &--success {
        @apply bg-green-50 text-green-800 border border-green-200;
        @apply dark:bg-green-900/20 dark:text-green-400 dark:border-green-800;
    }
    
    &--error {
        @apply bg-red-50 text-red-800 border border-red-200;
        @apply dark:bg-red-900/20 dark:text-red-400 dark:border-red-800;
    }
    
    svg {
        @apply flex-shrink-0;
    }
}

// Button overrides pro settings form
.settings-form {
    .btn {
        @apply inline-flex items-center gap-2 px-4 py-2 rounded-md font-medium;
        @apply transition-colors duration-200;
        
        &--primary {
            @apply bg-blue-600 text-white hover:bg-blue-700;
            @apply dark:bg-blue-700 dark:hover:bg-blue-600;
        }
        
        &--ghost {
            @apply bg-gray-100 text-gray-700 hover:bg-gray-200;
            @apply dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600;
        }
        
        &--lg {
            @apply px-6 py-3 text-base;
        }
    }
}

// Responsivní úpravy
@screen sm {
    .accordion__header {
        @apply p-3;
    }
    
    .accordion__body {
        @apply p-3 space-y-4;
    }
    
    .form-grid {
        @apply grid-cols-1;
    }
}

@screen md {
    .form-grid {
        @apply grid-cols-2;
    }
}