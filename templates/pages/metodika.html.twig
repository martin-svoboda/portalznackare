{% extends 'base.html.twig' %}

{% block title %}Metodika značení - Portál značkaře{% endblock %}

{% block body %}
    <div class="container container--xl">
        {% include 'components/page-header.html.twig' with {
            title: 'Metodika značení',
            subtitle: 'Komplexní průvodce značením turistických tras',
            breadcrumbs: [
                {
                    url: path('app_index'),
                    text: 'Úvod'
                },
                {
                    text: 'Metodika'
                }
            ]
        } %}

        {# Grid karet dílů metodiky #}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
            {% for dil in dily %}
                <a href="{{ dil.urlPath }}" class="card hover:shadow-lg transition-shadow">
                    <div class="flex items-start gap-3">
                        {% if dil.meta.icon is defined %}
                            {{ tabler_icon(dil.meta.icon, 32, 'text-blue-600 dark:text-blue-400') }}
                        {% else %}
                            {{ tabler_icon('book', 32, 'text-blue-600 dark:text-blue-400') }}
                        {% endif %}

                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2">
                                {{ dil.title }}
                            </h3>

                            {% if dil.excerpt %}
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                                    {{ dil.excerpt }}
                                </p>
                            {% endif %}

                            <span class="badge badge--primary badge--sm">
                                {{ dil.children|length }} {{ dil.children|length == 1 ? 'kapitola' : (dil.children|length < 5 ? 'kapitoly' : 'kapitol') }}
                            </span>
                        </div>
                    </div>
                </a>
            {% else %}
                <div class="col-span-full">
                    {% include 'components/alert.html.twig' with {
                        type: 'info',
                        title: 'Žádné díly metodiky',
                        message: 'Díly metodiky zatím nebyly vytvořeny. Vytvořte je v administračním rozhraní.'
                    } %}
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}